/* =====================================================
   GLOBAL RESET
===================================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f6f7f9;
  color: #222;
}

/* =====================================================
   LINK NORMALIZATION
===================================================== */
a.back-to-forum {
  color: #1976d2;
  font-weight: bold;
}

a.back-to-forum:hover { color: cornflowerblue; } 
a.back-to-forum:active { color: cornflowerblue; }

/* =====================================================
   WRAPPER
===================================================== */
.forum-wrapper {
  padding: 0 8vw;
}

/* =====================================================
   LAYOUT
===================================================== */
.forum-layout {
  display: flex;
  gap: 1.5rem;
  width: 100%;
  flex-wrap: wrap;
}

.forum-view { flex-direction: column; }
.thread-view { flex-direction: row; }

.thread-view .thread-list-container {
  flex: 0 0 300px;
  padding-right: 1rem;
  border-right: 1px solid #ddd;
  min-width: 200px;
}

.thread-container { flex: 1; min-width: 0; }

/* =====================================================
   HEADERS
===================================================== */
.forum-header h2,
.thread-header h2 {
  margin-bottom: 0.25rem;
}

.forum-header p { margin-top: 0; color: #555; }

/* =====================================================
   META
===================================================== */
.thread-meta,
.post-meta {
  font-size: 0.75rem;
  color: #666;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
  word-break: break-word;
}

/* ðŸ”§ IMPORTANT FIX */
.post-meta {
  position: static; /* prevents post-id-box anchoring here */
}

/* =====================================================
   POST CARD
===================================================== */
.post {
  position: relative;
  background: #ffffff;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 28px 12px 10px; /* ðŸ”§ space for post-id-box */
  margin-bottom: 1rem;
  word-wrap: break-word;
  overflow-wrap: anywhere;
}

/* =====================================================
   POST ACTIONS
===================================================== */
.post-actions {
  margin-left: auto;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

/* ACTION BUTTON BASE */
.reply-btn,
.delete-btn,
.undo-delete-btn {
  display: inline-flex;
  justify-content: flex-end;
  align-items: flex-end;
  font-size: 0.75rem;
  padding: 3px 6px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  line-height: 1.2;
  flex-shrink: 0;
}

/* Reply */
.reply-btn { color: white; }
.reply-btn:hover { color: #fff; }

/* Delete */
.delete-btn {
  color: white;
  background-color: #d32f2f;
}
.delete-btn:hover { background: #d32f2f; color: #fff; }

/* Undo */
.undo-delete-btn {
  background: #ff9800;
  color: white;
  padding: 3px 6px;
  font-size: 0.75rem;
  transition: background 0.2s ease;
}
.undo-delete-btn:hover { background: #f57c00; }

/* =====================================================
   DELETE CONFIRM UI
===================================================== */
.delete-ui {
  position: absolute;
  right: 8px;
  top: calc(100% + 6px);
  width: 220px;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 8px;
  z-index: 20;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.delete-ui.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.delete-ui textarea {
  width: 100%;
  font-size: 0.75rem;
  padding: 6px;
  border-radius: 4px;
  border: 1px solid #ccc;
  resize: vertical;
}

.delete-actions {
  display: flex;
  justify-content: flex-end;
  gap: 6px;
  margin-top: 6px;
  flex-wrap: wrap;
}

.delete-actions button {
  font-size: 0.7rem;
  padding: 4px 8px;
  border-radius: 4px;
}

/* =====================================================
   THREAD LIST
===================================================== */
.thread-list-container ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.thread-list-container li {
  padding: 8px 6px;
  border-bottom: 1px solid #eee;
}

.thread-list-container li:hover {
  background: #f0f2f5;
}

.threadTitle { margin: 0; font-size: 1rem; color: #1976d2; }
.threadTitle:hover { text-decoration: underline; }
.authroname { font-size: 0.75rem; color: #666; }

/* =====================================================
   ROLE BADGES
===================================================== */
.admin-role,
.moderator-role,
.guest-role {
  padding: 1px 5px;
  border-radius: 4px;
  font-size: 0.7rem;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.admin-role { background: #f5c542; color: #000; }
.moderator-role { background: #4da6a6; color: #fff; }
.guest-role { color: #4c6ef5; }

/* =====================================================
   FORMS
===================================================== */
input[type="text"] {
  width: 100%;
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 0.9rem;
}

textarea { min-height: 80px; resize: vertical; }

input:focus,
textarea:focus {
  outline: none;
  border-color: #1976d2;
  box-shadow: 0 0 0 1px rgba(25, 118, 210, 0.2);
}

/* =====================================================
   PRIMARY BUTTONS
===================================================== */
button,
input[type="submit"] {
  padding: 7px 14px;
  border-radius: 6px;
  border: 1px solid #1976d2;
  background: #1976d2;
  color: white;
  font-size: 0.9rem;
  cursor: pointer;
  flex-shrink: 0;
}

button:hover,
input[type="submit"]:hover { background: #155a9c; }
button:disabled { background: #cfd4da; border-color: #cfd4da; }

/* =====================================================
   CONTENT FORMATTING
===================================================== */
blockquote {
  border-left: 4px solid #1976d2;
  background: #f1f5fb;
  padding: 8px 12px;
  margin: 10px 0;
  font-style: italic;
}

code {
  background: #f0f0f0;
  padding: 2px 5px;
  border-radius: 4px;
  font-family: Consolas, monospace;
  font-size: 0.85rem;
}

pre {
  background: #f0f0f0;
  padding: 10px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 10px 0;
}

pre code { background: none; padding: 0; }

/* =====================================================
   UTILS
===================================================== */
.hidden { display: none; }
.post-highlight { background: #e3f2fd; border-color: #1976d2; }

.post.deleted .post-content {
  font-style: italic;
  color: #999;
}

.reply-btn.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.meta-spawn {
  flex: 1 1 auto;
  min-width: 0;
}

/* =====================================================
   POST ID BOX
===================================================== */
.post-id-box {
  position: absolute;
  top: 6px;
  right: 8px;
  z-index: 5;

  font-size: 0.75rem;
  padding: 2px 6px;
  border-radius: 6px;

  background: #1976d2;
  border: 1px solid #777;
  color: #ffffff;

  cursor: pointer;
  user-select: none;
  transition: all 0.15s ease;
}

.post-id-box:hover {
  background: #444;
  color: #fff;
  border-color: #444;
}

.post-id-box.copied {
  background: #28a745;
  color: #fff;
  border-color: #28a745;
}

/* =====================================================
   MOBILE / RESPONSIVE
===================================================== */
@media (max-width: 768px) {
  .forum-wrapper { padding: 0 1rem; }

  .forum-layout,
  .thread-view { flex-direction: column; }

  .thread-view .thread-list-container {
    width: 100%;
    padding-right: 0;
    border-right: none;
    border-bottom: 1px solid #ddd;
    margin-bottom: 1rem;
  }

  .post-meta,
  .post-actions {
    flex-direction: column;
    align-items: flex-start;
  }

  .post-actions button,
  .delete-actions button,
  .undo-delete-btn {
    margin-left: 0;
  }

  .delete-ui {
    right: 0;
    top: calc(100% + 4px);
  }
}

.copy-toast {
  position: absolute;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  font-size: 0.7rem;
  padding: 4px 8px;
  border-radius: 4px;
  z-index: 999;
  opacity: 0.9;
  pointer-events: none;
  white-space: nowrap;
}

.formatting-toolbar button {
    border: 1px solid #1976d2;
    background: #1976d2;
    color: #fff;
    padding: 2px 6px;
    font-size: 0.75rem;
    border-radius: 4px;
    cursor: pointer;
    flex-shrink: 1;  
    white-space: nowrap;
}

.formatting-toolbar button:hover {
    background: #155a9c;
}

.formatting-toolbar.hidden {
    display: none;
}

.format-guide-btn {
    font-size: 0.7rem;
    margin-left: 8px;
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid #1976d2;
    background: #1976d2;
    color: white;
    cursor: pointer;
}
.format-guide-btn:hover {
    background: #155a9c;
}

.formatting-toolbar {
    display: flex;
    flex-wrap: wrap;              
    gap: 4px;
    padding: 4px;

    width: 100%;                  
    max-width: 100%;

    border: 1px solid #ccc;
    border-bottom: none;
    border-radius: 6px 6px 0 0;
    background-color: #f9f9f9;

    box-sizing: border-box;
}


.create-post-box textarea,
#createThreadForm textarea {
    width: 100%;
    border: 1px solid #ccc;
    border-radius: 0 0 6px 6px;
    padding: 6px;
    box-sizing: border-box;
    position: relative;
    top: -1px;      
}

/* =====================================================
   LIST FORMATTING FIX
===================================================== */

.post-content ul,
.post-content ol {
  padding-left: 1.2rem;        /* keep bullets inside */
  margin: 8px 0;
  list-style-position: inside; /* âœ… bullets inside card */
}

.post-content li {
  margin: 4px 0;
  line-height: 1.4;
}